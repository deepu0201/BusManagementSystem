<%- include('../partials/header.ejs') %>
<div class="inner-container">
  <%- include('../partials/errorMessage.ejs') %> <%-
  include('../partials/greeting.ejs') %>

  <div class="flex justify-between items-center">
    <h2 class="page-header">Search Passengers</h2>
    <a
      class="px-5 py-2 rounded-full bg-gray-200 text-blue-600"
      href="/passangers/add"
      >+ Add Passenger</a
    >
  </div>
  <form action="/passangers" method="GET">
    <div class="form-row">
      <div class="form-item">
        <label>Name</label>
        <input type="text" name="name" value="<%= searchOptions.name %>" />
      </div>
    </div>
    <div class="form-row form-row-end">
      <button class="btn btn-primary" type="submit">
        <img src="images/search_black_36dp.svg" alt="search" />
      </button>
    </div>
  </form>
  <br />
  <% passangers.forEach(passanger => { %>
  <div
    class="general-row bg-blue-500 bg-opacity-30 p-3 rounded-xl items-center"
  >
    <div class="general-name"><%= passanger.name %></div>
    <div class="btn-row">
      <a class="btn btn-primary" href="/passangers/<%= passanger.idpassanger %>"
        ><img src="../images/visibility_black_36dp.svg" alt="view" /></a
      >
      <%- include('../partials/deleteForm', { url:
      `/passangers/${passanger.idpassanger}` }) %>
    </div>
  </div>
  <% }) %>
</div>
